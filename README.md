# DPP - 团队文档与 Jenkins 部署助手

DPP 是一个基于 WXT + React 构建的现代化浏览器扩展，旨在提升团队协作效率，提供便捷的文档导航和 Jenkins 部署管理功能。

## 🛡️ 数据安全 (Data Security)

本项目采用严格的**端到端加密 (End-to-End Encryption, E2EE)** 架构，确保您的敏感数据在任何情况下都不会泄露。

- **本地加密**: 所有参与同步的数据在离开您的浏览器之前，都会使用您的**本地密钥**进行高强度加密。
- **零知识服务端**: 加密密钥仅存储在您的本地设备中，**绝不会上传到服务器**。这意味着服务器仅负责存储加密后的乱码数据，无论是服务器管理员还是黑客，都无法解密或窥探您的具体数据内容。
- **安全传输**: 所有数据传输均通过 HTTPS 进行，配合内容加密，提供双重保护。

## 🔄 数据同步 (Data Synchronization)

DPP 内置了自定义的 SyncEngine，允许您在不同设备间无缝同步工作环境。

### ✅ 会被同步的数据

以下数据**会**经过加密后在多端同步：

1.  **标签 (Tags)**
    - 所有自定义标签的名称、颜色及排序。
2.  **链接 (Links)**
    - 团队共享文档、常用工具的链接及其分类信息。
3.  **关联关系**
    - **链接与标签的关联 (Link Tags)**: 哪些链接被打上了哪些标签。
    - **任务与标签的关联 (Job Tags)**: 哪些 Jenkins 任务关联了哪些标签（基于任务 URL 关联）。

### ❌ 不会被同步的数据 (仅本地存储)

为了最大限度地保护隐私和安全，以下敏感数据或临时数据**仅存储在本地 IndexedDB 中，绝不会被上传**：

1.  **Jenkins 凭证与配置**:
    - Jenkins Host URL
    - 用户名 (User)
    - API Token / 密码
    - _注意：您需要在每台新设备上重新配置 Jenkins 连接信息。_
2.  **构建历史 (Build History)**:
    - `My Builds` (我的构建记录)
    - `Others Builds` (他人的构建记录)
3.  **扩展设置 (Settings)**:
    - 除同步服务地址外的所有本地偏好设置。
4.  **Jenkins 任务缓存**:
    - 任务的具体名称、环境配置等详情（本地缓存）。
5.  **录屏数据 (Recordings)**:
    - 使用 rrweb 录制的会话回放数据（通常体积较大且包含敏感操作）。
6.  **统计数据**:
    - 链接点击频次、最近使用时间等本地统计信息。

## 🚀 后端部署 (Backend Deployment)

为了实现多端同步，您需要部署一个轻量级的同步服务器。

**关于服务端设计**:
服务端采用**盲存储 (Blind Storage)** 策略 —— 它仅作为一个加密数据的存储容器，完全无法感知或解密所存储的数据内容。这种**"哑服务器 (Dumb Server)"** 设计不仅最大程度保障了数据隐私，也使得后端实现极其简单，任何支持基本 KV 存储或文件写入的环境均可轻松接入。

下边提供了两种开箱即用的参考实现：

- **Cloudflare Workers (推荐)**: 免费、无需运维、全球 CDN 加速。
- **Node.js VPS**: 适用于私有化部署或已有服务器资源的情况。

👉 **[点击查看详细部署教程](./packages/DEPLOY.md)**

## 🛠️ 技术栈

- **框架**: [WXT](https://wxt.dev) + React 19
- **语言**: TypeScript (Strict Mode)
- **状态/数据库**: Dexie.js (IndexedDB) + dexie-react-hooks
- **UI/样式**: UnoCSS + Shadcn UI
- **同步**: Custom SyncEngine + E2EE (基于 Web Crypto API)

## 📦 安装与开发

```bash
# 安装依赖
pnpm install

# 启动开发服务器 (Chrome)
pnpm dev

# 构建生产版本
pnpm build
```
